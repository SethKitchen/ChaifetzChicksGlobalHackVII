<!DOCTYPE HTML>
<!--
	Helios by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>myGration</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="css/main.css" />
		<noscript><link rel="stylesheet" href="css/noscript.css" /></noscript>
	</head>
	<body class="homepage is-preload" style="background-color: #1b1b1b">
		<div id="google_translate_element"></div>
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header">
					<!-- Inner -->
						<div class="inner" id='pdfLoadSpace' text-align="left">
							<select id='pdfOptions' onchange='GrabFile()'>
                                <option disabled>loading...</option>
                            </select>
						</div>

				<!-- Nav -->
				<nav style="background-color: #000000;"  id="nav">
					<ul>
						<li><a href='/'>Home</a></li>
						<li><a href='/profile'>Profile</a></li>
						<li><a href='/tabs'>Posts Near You</a></li>
						<li><a style='color:crimson'>PDF Fill</a></li>
						<%if (!user) { %>
	          	<li><a href="/login">Login</a></li>
						<% } else { %>
	          	<li><a href="/profile">My Profile</a></li>
	          	<li><a href="/logout">Logout</a></li>
						<% } %>
					</ul>
				</nav>
				</div>
		</div>

		<!-- Scripts -->
			<script src="js/jquery.min.js"></script>
			<script src="js/jquery.dropotron.min.js"></script>
			<script src="js/jquery.scrolly.min.js"></script>
			<script src="js/jquery.scrollex.min.js"></script>
			<script src="js/browser.min.js"></script>
			<script src="js/breakpoints.min.js"></script>
			<script src="js/util.js"></script>
			<script src="js/main.js"></script>
<script>
$( document ).ready(function() {
    var combobox=document.getElementById('pdfOptions');
    $.get('/getpdfnames', function(result) {
        for(var i=0; i<result.length; i++)
        {
            var opt = document.createElement('option');
            opt.value = result[i];
            opt.innerHTML = result[i];
            combobox.appendChild(opt);
        }
    });
});

function GrabFile()
{
    var toGet=$("#pdfOptions").val();
    $.get('/pdfFile',{file_name:toGet},function(result)
    {
        try
        {
        var obj = document.createElement('object');
        obj.data=result;
        obj.type="application/pdf";
        obj.width="500px";
        obj.height="700px";
        document.getElementById('pdfLoadSpace').appendChild(obj);
        }
        catch(ex)
        {
            console.log(ex);
        }
       // console.log(result);
    });
}

</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script type="text/javascript">
function googleTranslateElementInit() {
new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}
</script>
	</body>
</html>